{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://1er-degre.fr/schemas/shipping-label.json",
  "title": "ShippingLabel",
  "description": "Shipping label for order fulfillment with weight-based assignment",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique label identifier, also serves as tracking_number",
      "readOnly": true
    },
    "tracking_number": {
      "type": "string",
      "description": "Tracking number equals label id for simplified reference",
      "readOnly": true
    },
    "order_id": {
      "type": "string",
      "format": "uuid",
      "description": "Reference to parent order"
    },
    "weight_grams": {
      "type": "integer",
      "minimum": 0,
      "description": "Total package weight in grams"
    },
    "weight_range_min": {
      "type": "integer",
      "minimum": 0,
      "description": "Minimum weight for this shipping bracket"
    },
    "weight_range_max": {
      "type": "integer",
      "minimum": 0,
      "description": "Maximum weight for this shipping bracket"
    },
    "sequential_index": {
      "type": "integer",
      "minimum": 1,
      "description": "Sequential index within weight bracket for ordering"
    },
    "carrier": {
      "type": "string",
      "description": "Shipping carrier name"
    },
    "service_level": {
      "type": "string",
      "description": "Shipping service level (standard, express, etc.)"
    },
    "shipping_cost": {
      "type": "number",
      "minimum": 0,
      "description": "Shipping cost in euros"
    },
    "status": {
      "type": "string",
      "enum": ["created", "printed", "shipped", "delivered", "returned"],
      "description": "Shipping status"
    },
    "label_url": {
      "type": ["string", "null"],
      "format": "uri",
      "description": "URL to printable shipping label PDF",
      "readOnly": true
    },
    "shipped_at": {
      "type": ["string", "null"],
      "format": "date-time",
      "description": "Timestamp when package was shipped"
    },
    "delivered_at": {
      "type": ["string", "null"],
      "format": "date-time",
      "description": "Timestamp when package was delivered"
    },
    "tenant_id": {
      "type": "string",
      "description": "Tenant identifier for multi-tenant isolation",
      "default": "1er-Degr√©"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Label creation timestamp",
      "readOnly": true
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Last update timestamp",
      "readOnly": true
    }
  },
  "required": [
    "order_id",
    "weight_grams",
    "weight_range_min",
    "weight_range_max",
    "sequential_index",
    "carrier",
    "service_level",
    "shipping_cost",
    "status"
  ]
}
