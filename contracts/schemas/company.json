{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://1er-degre.fr/schemas/company.json",
  "title": "Company",
  "description": "Organization or company entity for B2B transactions and ERP integration",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique company identifier",
      "readOnly": true
    },
    "name": {
      "type": "string",
      "minLength": 1,
      "description": "Company display name"
    },
    "legal_name": {
      "type": "string",
      "description": "Official legal business name"
    },
    "tax_id": {
      "type": ["string", "null"],
      "description": "Tax identification number (SIRET in France)"
    },
    "odoo_customer_id": {
      "type": ["string", "null"],
      "description": "Customer ID in Odoo ERP system for integration"
    },
    "billing_address": {
      "type": "object",
      "description": "Company billing address",
      "properties": {
        "street": {
          "type": "string"
        },
        "street2": {
          "type": ["string", "null"]
        },
        "city": {
          "type": "string"
        },
        "postal_code": {
          "type": "string"
        },
        "region": {
          "type": ["string", "null"]
        },
        "country": {
          "type": "string",
          "pattern": "^[A-Z]{2}$",
          "default": "FR"
        }
      },
      "required": ["street", "city", "postal_code", "country"]
    },
    "contact_email": {
      "type": "string",
      "format": "email",
      "description": "Primary contact email"
    },
    "contact_phone": {
      "type": ["string", "null"],
      "description": "Primary contact phone number"
    },
    "website": {
      "type": ["string", "null"],
      "format": "uri",
      "description": "Company website URL"
    },
    "notes": {
      "type": ["string", "null"],
      "description": "Additional notes about the company"
    },
    "tenant_id": {
      "type": "string",
      "description": "Tenant identifier for multi-tenant isolation",
      "default": "1er-Degr√©"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Company record creation timestamp",
      "readOnly": true
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Last update timestamp",
      "readOnly": true
    }
  },
  "required": [
    "name",
    "legal_name",
    "billing_address",
    "contact_email"
  ]
}
